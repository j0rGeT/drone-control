# ğŸš æ— äººæœºç¾¤æ§ç³»ç»Ÿ (Drone Swarm Control System)

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æ— äººæœºç¾¤æ§ç³»ç»Ÿï¼Œæ”¯æŒæ— äººæœºç®¡ç†ã€ä»»åŠ¡åˆ†é…ã€ç¼–é˜Ÿé£è¡Œå’Œæ¨¡æ‹Ÿå™¨æµ‹è¯•ã€‚

## âœ¨ ä¸»è¦åŠŸèƒ½

### 1. æ— äººæœºç®¡ç†
- âœ… æ·»åŠ /åˆ é™¤æ— äººæœº
- âœ… æŸ¥çœ‹æ— äººæœºçŠ¶æ€
- âœ… ç”µæ± ç›‘æ§
- âœ… å®æ—¶ä½ç½®è·Ÿè¸ª

### 2. ä»»åŠ¡åˆ†é…
- âœ… å•ç‹¬ä¸ºæ¯ä¸ªæ— äººæœºè®¾ç½®ä»»åŠ¡
- âœ… æ”¯æŒç§»åŠ¨ã€æ‚¬åœã€èµ·é£ã€é™è½ä»»åŠ¡
- âœ… ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†
- âœ… ä»»åŠ¡çŠ¶æ€ç›‘æ§

### 3. ç¼–é˜Ÿé£è¡Œ
- âœ… 8ç§å†…ç½®ç¼–é˜Ÿå›¾æ¡ˆï¼š
  - ğŸ”µ åœ†å½¢ (Circle)
  - ğŸ“ ç›´çº¿ (Line) 
  - â¬œ æ–¹å½¢ (Square)
  - ğŸ”º ä¸‰è§’å½¢ (Triangle)
  - â¤ï¸ å¿ƒå½¢ (Heart)
  - â­ æ˜Ÿå½¢ (Star)
  - ğŸ“‹ ç½‘æ ¼ (Grid)
  - ğŸŒ€ èºæ—‹ (Spiral)

### 4. æ¨¡æ‹Ÿå™¨æ”¯æŒ
- âœ… å®Œæ•´çš„è™šæ‹Ÿç¯å¢ƒ
- âœ… å®æ—¶å¯è§†åŒ–ç•Œé¢
- âœ… äº¤äº’å¼å‘½ä»¤è¡Œ
- âœ… è‡ªåŠ¨æ¼”ç¤ºæ¨¡å¼

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
npm install
```

### è¿è¡Œæ–¹å¼

#### 1. äº¤äº’å¼æ¨¡æ‹Ÿå™¨
```bash
npm run simulator
# æˆ–
npm start --simulator
```

#### 2. åœ†å½¢ç¼–é˜Ÿæ¼”ç¤º
```bash
npm start --demo-circle
```

#### 3. å¿ƒå½¢ç¼–é˜Ÿæ¼”ç¤º
```bash
npm start --demo-heart
```

#### 4. è‡ªåŠ¨æ¼”ç¤º
```bash
node src/simulator.js demo
```

#### 5. è¿è¡Œæµ‹è¯•
```bash
npm test
```

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ç¼–ç¨‹æ¥å£

```javascript
const DroneControlApp = require('./src/main');

async function example() {
    // åˆå§‹åŒ–ç³»ç»Ÿï¼ˆæ¨¡æ‹Ÿæ¨¡å¼ï¼‰
    const app = new DroneControlApp();
    await app.initialize('simulation');
    
    // æ·»åŠ æ— äººæœº
    app.addDrone('drone1', 0, 0, 0);
    app.addDrone('drone2', 10, 0, 0);
    app.addDrone('drone3', 0, 10, 0);
    
    // å¯åŠ¨ç¾¤æ§ç³»ç»Ÿ
    app.startSwarm();
    
    // å•ç‹¬ä»»åŠ¡åˆ†é…
    app.assignTask('drone1', { 
        type: 'takeoff', 
        altitude: 15 
    });
    
    app.assignTask('drone2', { 
        type: 'move', 
        x: 30, y: 30, z: 20 
    });
    
    app.assignTask('drone3', { 
        type: 'hover', 
        duration: 5000 
    });
    
    // æ‰§è¡Œç¼–é˜Ÿ
    setTimeout(() => {
        app.executeFormation('circle', { 
            radius: 20, 
            altitude: 15 
        });
    }, 3000);
    
    // æŸ¥çœ‹çŠ¶æ€
    setTimeout(() => {
        app.displayStatus();
    }, 6000);
}

example();
```

### æ¨¡æ‹Ÿå™¨å‘½ä»¤

åœ¨äº¤äº’å¼æ¨¡æ‹Ÿå™¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# ç¼–é˜Ÿå‘½ä»¤
formation circle          # åœ†å½¢ç¼–é˜Ÿ
formation heart           # å¿ƒå½¢ç¼–é˜Ÿ
formation star             # æ˜Ÿå½¢ç¼–é˜Ÿ
formation square           # æ–¹å½¢ç¼–é˜Ÿ

# ä»»åŠ¡å‘½ä»¤
task drone1 takeoff 15     # èµ·é£åˆ°15ç±³
task drone1 move 10 20 15  # ç§»åŠ¨åˆ°æŒ‡å®šä½ç½®
task drone1 hover 5        # æ‚¬åœ5ç§’
task drone1 land           # é™è½

# ç®¡ç†å‘½ä»¤
add newdrone              # æ·»åŠ æ–°æ— äººæœº
remove drone1             # åˆ é™¤æ— äººæœº
start                     # å¯åŠ¨ç¾¤æ§
stop                      # åœæ­¢ç¾¤æ§
emergency                 # ç´§æ€¥é™è½æ‰€æœ‰æ— äººæœº

# å…¶ä»–å‘½ä»¤
help                      # æ˜¾ç¤ºå¸®åŠ©
quit                      # é€€å‡ºæ¨¡æ‹Ÿå™¨
```

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
src/
â”œâ”€â”€ main.js           # ä¸»åº”ç”¨å…¥å£
â”œâ”€â”€ swarmController.js # ç¾¤æ§æ ¸å¿ƒé€»è¾‘
â”œâ”€â”€ drone.js          # æ— äººæœºç±»å®šä¹‰
â”œâ”€â”€ formations.js     # ç¼–é˜Ÿå›¾æ¡ˆç®—æ³•
â””â”€â”€ simulator.js      # æ¨¡æ‹Ÿå™¨å®ç°

test/
â””â”€â”€ test.js           # å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
```

### æ ¸å¿ƒç±»è¯´æ˜

#### `Drone` ç±»
- ç®¡ç†å•ä¸ªæ— äººæœºçš„çŠ¶æ€ã€ä½ç½®ã€ä»»åŠ¡
- æ”¯æŒç§»åŠ¨ã€æ‚¬åœã€èµ·é£ã€é™è½æ“ä½œ
- ç”µæ± ç›‘æ§å’ŒçŠ¶æ€è·Ÿè¸ª

#### `SwarmController` ç±»  
- ç¾¤æ§ç³»ç»Ÿæ ¸å¿ƒ
- æ— äººæœºç®¡ç†ï¼ˆæ·»åŠ /åˆ é™¤ï¼‰
- ä»»åŠ¡åˆ†é…å’Œæ‰§è¡Œ
- ç¼–é˜Ÿæ§åˆ¶

#### `FormationPatterns` ç±»
- 8ç§ç¼–é˜Ÿå›¾æ¡ˆçš„ç®—æ³•å®ç°
- å¯é…ç½®å‚æ•°ï¼ˆå¤§å°ã€ä½ç½®ã€é«˜åº¦ç­‰ï¼‰
- æ”¯æŒä¸åŒæ•°é‡çš„æ— äººæœº

#### `DroneSimulator` ç±»
- å®Œæ•´çš„æ¨¡æ‹Ÿç¯å¢ƒ
- å¯è§†åŒ–ç•Œé¢
- äº¤äº’å¼æ§åˆ¶
- æ¼”ç¤ºæ¨¡å¼

## ğŸ® æ¨¡æ‹Ÿå™¨ç•Œé¢

æ¨¡æ‹Ÿå™¨æä¾›å®æ—¶çš„å¯è§†åŒ–ç•Œé¢ï¼š

```
ğŸš DRONE SWARM SIMULATOR
========================
Status: ğŸŸ¢ RUNNING
Total Drones: 8

Grid View (ğŸš=flying, ğŸ›¸=idle, ğŸ”‹=low battery):
Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â·
Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â·
Â· Â· Â· Â· Â· Â· ğŸš Â· Â· Â· Â· Â· Â· ğŸ›¸ Â· Â· Â· Â· Â·
Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â·
Â· Â· Â· ğŸš Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· ğŸš Â· Â·
Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· ğŸ›¸ Â· Â· Â· Â· Â· Â· Â· Â·
Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â·
Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â· Â·

Drone Details:
ID        | Position      | Status    | Battery | Tasks
----------|---------------|-----------|---------|-------
drone_1   | (15.0,0.0,15) | flying    | 98.5%   | 2
drone_2   | (10.6,10.6,15)| idle      | 99.2%   | 0
...
```

## ğŸ§ª æµ‹è¯•

ç³»ç»ŸåŒ…å«å…¨é¢çš„æµ‹è¯•å¥—ä»¶ï¼š

- **å•å…ƒæµ‹è¯•**: æµ‹è¯•å„ä¸ªç»„ä»¶åŠŸèƒ½
- **é›†æˆæµ‹è¯•**: æµ‹è¯•å®Œæ•´å·¥ä½œæµç¨‹
- **é”™è¯¯å¤„ç†æµ‹è¯•**: æµ‹è¯•å¼‚å¸¸æƒ…å†µå¤„ç†

```bash
npm test
```

æµ‹è¯•è¦†ç›–ï¼š
- âœ… æ— äººæœºç®¡ç†
- âœ… ä»»åŠ¡åˆ†é…
- âœ… ç¼–é˜Ÿæ§åˆ¶
- âœ… é”™è¯¯å¤„ç†
- âœ… é›†æˆåœºæ™¯

## ğŸ”§ é…ç½®é€‰é¡¹

### ç¼–é˜Ÿå‚æ•°ç¤ºä¾‹

```javascript
// åœ†å½¢ç¼–é˜Ÿ
app.executeFormation('circle', {
    radius: 20,        // åŠå¾„
    centerX: 0,        // ä¸­å¿ƒXåæ ‡
    centerY: 0,        // ä¸­å¿ƒYåæ ‡
    altitude: 15       // é£è¡Œé«˜åº¦
});

// æ˜Ÿå½¢ç¼–é˜Ÿ
app.executeFormation('star', {
    outerRadius: 25,   // å¤–åŠå¾„
    innerRadius: 12,   // å†…åŠå¾„
    points: 5,         // æ˜Ÿè§’æ•°é‡
    altitude: 15
});

// å¿ƒå½¢ç¼–é˜Ÿ
app.executeFormation('heart', {
    scale: 10,         // ç¼©æ”¾æ¯”ä¾‹
    altitude: 15
});
```

## ğŸš€ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„ç¼–é˜Ÿå›¾æ¡ˆ

åœ¨ `src/formations.js` ä¸­æ·»åŠ æ–°çš„ç”Ÿæˆå‡½æ•°ï¼š

```javascript
generateCustomPattern(droneCount, options = {}) {
    const positions = [];
    // ä½ çš„ç®—æ³•é€»è¾‘
    for (let i = 0; i < droneCount; i++) {
        positions.push({
            x: // è®¡ç®—Xåæ ‡,
            y: // è®¡ç®—Yåæ ‡,
            z: options.altitude || 15
        });
    }
    return positions;
}
```

ç„¶ååœ¨æ„é€ å‡½æ•°ä¸­æ³¨å†Œï¼š

```javascript
this.patterns = {
    // ç°æœ‰å›¾æ¡ˆ...
    custom: this.generateCustomPattern.bind(this)
};
```

### æ·»åŠ æ–°çš„ä»»åŠ¡ç±»å‹

åœ¨ `src/drone.js` ä¸­æ‰©å±•ä»»åŠ¡å¤„ç†ï¼š

```javascript
// åœ¨ Drone ç±»ä¸­æ·»åŠ æ–°æ–¹æ³•
newTaskType(params) {
    const task = {
        type: 'newTaskType',
        params: params,
        timestamp: Date.now()
    };
    this.addTask(task);
    return task;
}
```

åœ¨ `src/swarmController.js` ä¸­æ·»åŠ ä»»åŠ¡åˆ†é…é€»è¾‘ï¼š

```javascript
case 'newTaskType':
    drone.newTaskType(task.params);
    break;
```

## ğŸ“‹ TODO å’Œæœªæ¥æ”¹è¿›

- [ ] WebSocket æ¥å£æ”¯æŒ
- [ ] 3D å¯è§†åŒ–ç•Œé¢
- [ ] GPS åæ ‡ç³»ç»Ÿ
- [ ] ç¢°æ’æ£€æµ‹å’Œé¿éšœ
- [ ] å®é™…ç¡¬ä»¶æ¥å£
- [ ] é…ç½®æ–‡ä»¶æ”¯æŒ
- [ ] æ—¥å¿—è®°å½•ç³»ç»Ÿ
- [ ] æ€§èƒ½ç›‘æ§

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

---

ğŸš **äº«å—ä½ çš„æ— äººæœºç¾¤æ§ç³»ç»Ÿï¼** ğŸš# drone-control
